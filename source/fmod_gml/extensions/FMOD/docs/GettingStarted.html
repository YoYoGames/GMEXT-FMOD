<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Getting Started with FMOD in GameMaker - GMEXT-FMOD</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
        <link href="assets/css/gmext_style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Getting Started with FMOD in GameMaker";
        var mkdocs_page_input_path = "GettingStarted.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/gml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> GMEXT-FMOD
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="Home.html">FMOD Extension</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Getting Started with FMOD in GameMaker</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="GeneralInformation.html">General Information</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="system.html">System</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="channel.html">Channel</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="channel_control.html">Channel Control</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="channel_group.html">Channel Group</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="DSP.html">DSP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="dsp_connection.html">DSP Connection</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="reverb_3d.html">Reverb3D</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="sound.html">Sound</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="sound_group.html">Sound Group</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="geometry.html">Geometry</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="bank.html">Bank</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="bus.html">Bus</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="command_replay.html">Command Replay</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="event_description.html">Event Description</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="event_instance.html">Event Instance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="studio_system.html">FMOD Studio System</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="studio_vca.html">VCA</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="constants.html">Constants</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="structs.html">Structs</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">GMEXT-FMOD</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Getting Started with FMOD in GameMaker</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/YoYoGames/GMEXT-FMOD/edit/master/docs/GettingStarted.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="setting-up-fmod">Setting Up FMOD</h1>
<p>Go to <a href="https://www.fmod.com/download">FMOD Downloads</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To access the downloads you need to register first.</p>
</div>
<p>Download <strong>FMOD Studio</strong> and <strong>FMOD Engine</strong>. As of writing this guide, the latest version is 2.02.20, which is supported.</p>
<p><img alt="Download FMOD Studio and FMOD Engine" src="assets/fmod_download.jpg" /></p>
<p>For <strong>Studio</strong>, download the package for the platform you are developing on.</p>
<p>For <strong>Engine</strong>, download packages for the platforms you want to publish your game to.</p>
<p>After installing the Engine API, open the installation and remember the location of the folder, which should contain the following folders in it ("api", "doc", etc.)</p>
<p><img alt="The engine folder" src="assets/fmod_api_location.jpg" /></p>
<h1 id="setting-up-gamemaker">Setting Up GameMaker</h1>
<p>Download the latest package from the <a href="https://github.com/YoYoGames/GMEXT-FMOD/releases">Releases page</a> of this repository.</p>
<p>Open your GameMaker project or create a new one.</p>
<p>Drag the <code>.yymps</code> file from the downloaded package into your GameMaker window, or go into <strong>Tools -&gt; Import Local Package</strong> to select the <code>.yymps</code> file.</p>
<p><img alt="Select Add All and Import" src="assets/ext_import.jpg" /></p>
<p>The only folder required to use FMOD is "Fmod". Click on it and select <strong>Add</strong>.</p>
<p>This package also includes a demo of FMOD, for which you need to import everything (<strong>Add All</strong>).</p>
<p>Finally, select <strong>Import</strong>.</p>
<p>In your Asset Browser, expand the "Fmod" folder, expand "Extensions", and double-click on <strong>FMOD</strong>.</p>
<p><img alt="Select the FMOD Extension under Fmod -&gt; Extensions" src="assets/ext_fmod.jpg" /></p>
<p>This will open the Extension Editor which contains the extension's parameters.</p>
<p>Here you need to set the SDK locations for the platforms the game will be exported to. This needs the location of the FMOD Engine folder.</p>
<p><img alt="FMOD Extension Options" src="assets/ext_options.jpg" /></p>
<p>Here the macOS API is entered as the intended target here is macOS. Use the Browse <code>[...]</code> button to find and select your FMOD Engine directory (the folder that <em>contains</em> the "api" folder, not the "api" folder itself).</p>
<p>FMOD set-up is now complete. Let's look at how you can import banks from your FMOD Project and play events.</p>
<h1 id="fmod-systems">FMOD Systems</h1>
<p>There are functions for initialising the FMOD Core System, and the FMOD Studio System.</p>
<p>If you are making use of FMOD Studio, you only need to initialise that, which also initialises the FMOD Core system underneath.</p>
<p>If you are only making use of FMOD Core, you will only need to initialise that. The code examples below show how to do both.</p>
<h1 id="fmod-init-loop">FMOD Init &amp; Loop</h1>
<p>Your game needs to run some initialisation code (e.g. in a Create event) and loop code (in a Step event) for FMOD to work.</p>
<p>The following example code can be placed in an "FMOD manager" object's Create event, which initialises the system:</p>
<pre class="highlight"><code class="language-gml">var _max_channels = 1024
var _flags_core = FMOD_INIT.NORMAL;
var _flags_studio = FMOD_STUDIO_INIT.LIVEUPDATE;

#macro USE_FMOD_STUDIO true // Are we using FMOD studio (true) or just core (false)?
#macro USE_DEBUG_CALLBACKS false // Should debugging be initialised?

/* If we enable debug callbacks in the macro above set them ON */
if (USE_DEBUG_CALLBACKS)
{
    fmod_debug_initialize(FMOD_DEBUG_FLAGS.LEVEL_LOG, FMOD_DEBUG_MODE.CALLBACK);
}

/* If we want to use FMOD_STUDIO */
if (USE_FMOD_STUDIO)
{
    /*
        If you are only using Studio you need this.
        It creates the Studio System and prints its result to the Output Log.
        It then initialises the system with the previously set variables, printing the result of that function.

        The FMOD Studio System function also initialises the core FMOD system, which is why you do not need to call fmod_system_create() here.
    */
    fmod_studio_system_create();
    show_debug_message("fmod_studio_system_create: " + string(fmod_last_result()));

    fmod_studio_system_init(_max_channels, _flags_studio, _flags_core);
    show_debug_message("fmod_studio_system_init: " + string(fmod_last_result()));

    /*
        FMOD Studio will create an initialize an underlying core system to work with.
    */
    fmod_main_system = fmod_studio_system_get_core_system();
}
// If we want to use FMOD Core only
else
{
    /*
        If you are only using Core you only need this.

        It creates and initialises the core FMOD system, printing the result of each call to the Output Log.
    */
    fmod_main_system = fmod_system_create()
    show_debug_message("fmod_system_create: " + string(fmod_last_result()))

    fmod_system_init(_max_channels, _flags_core)
    show_debug_message("fmod_system_init: " + string(fmod_last_result()))
}</code></pre>
<p>Your manager object should also have a Step event with the following code in it:</p>
<pre class="highlight"><code class="language-gml">if (USE_FMOD_STUDIO) {
    /*
        If you are only using Studio you need this.
        This call will update the STUDIO system and the underlying CORE system.
    */
    fmod_studio_system_update();
}
else {
    /*
        If you are only using Core you only need this.
    */
    fmod_system_update();
}</code></pre>
<h1 id="playing-events">Playing Events</h1>
<blockquote>
<p>If you are not familiar with FMOD, <a href="https://www.youtube.com/watch?v=7A1HMOsD2eU">watch this tutorial</a>.</p>
<p>This section covers how a bank is loaded and an event is started. For the rest of the functionality, view the <a href="https://github.com/YoYoGames/GMEXT-FMOD/wiki">Function Reference in the Wiki</a>. Every function listed in the wiki includes the name and documentation of its underlying FMOD API function, which is useful if you are following a tutorial that uses the original FMOD API functions.</p>
</blockquote>
<p>Once you have set up your FMOD project, go to <strong>File -&gt; Build</strong> to export the banks.</p>
<p>Copy the banks into the <code>datafiles</code> folder of your GameMaker project, to add them to your <a href="https://manual.gamemaker.io/monthly/en/Settings/Included_Files.htm">Included Files</a>.</p>
<p>In your game code, load your bank with <a href="studio_system.html#fmod_studio_system_load_bank_file">fmod_studio_system_load_bank_file</a>:</p>
<pre class="highlight"><code class="language-gml">bank_ref = fmod_studio_system_load_bank_file(fmod_path_bundle("master.bank"), FMOD_STUDIO_LOAD_BANK.NORMAL);</code></pre>
<p>Then load your strings bank with <a href="studio_system.html#fmod_studio_system_load_bank_file">fmod_studio_system_load_bank_file</a> so you can look-up events in the bank:</p>
<pre class="highlight"><code class="language-gml">strings_bank_ref = fmod_studio_system_load_bank_file(fmod_path_bundle("master.strings.bank"), FMOD_STUDIO_LOAD_BANK.NORMAL);</code></pre>
<p>Load the event description, using its name defined in FMOD Studio with the <a href="studio_system.html#fmod_studio_system_get_event">fmod_studio_system_get_event</a> function:</p>
<pre class="highlight"><code class="language-gml">event_description_ref = fmod_studio_system_get_event("event:/Ambience/Country");</code></pre>
<p>Create an instance of the event description before playing it, using <a href="event_description.html#fmod_studio_event_description_create_instance">fmod_studio_event_description_create_instance</a>:</p>
<pre class="highlight"><code class="language-gml">event_description_instance_ref = fmod_studio_event_description_create_instance(event_description_ref);</code></pre>
<p>Finally, play the instance so you hear sound using <a href="event_instance.html#fmod_studio_event_instance_start">fmod_studio_event_instance_start</a>:</p>
<pre class="highlight"><code class="language-gml">fmod_studio_event_instance_start(event_description_instance_ref);</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="Home.html" class="btn btn-neutral float-left" title="FMOD Extension"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="GeneralInformation.html" class="btn btn-neutral float-right" title="General Information">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>YoYoGames 2024</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/YoYoGames/GMEXT-FMOD" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="Home.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="GeneralInformation.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/gml.min.js"></script>
      <script src="assets/js/gmext_script.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
